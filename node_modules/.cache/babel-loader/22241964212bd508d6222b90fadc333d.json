{"ast":null,"code":"var _jsxFileName = \"/Users/hofheins/Desktop/medium/react-fileupload-aws/src/components/Upload.js\";\nimport React, { useRef } from \"react\";\nimport S3 from \"react-aws-s3\";\n\nfunction Upload() {\n  const fileInput = useRef();\n\n  const handleClick = event => {\n    event.preventDefault();\n    let file = fileInput.current.files[0];\n    let newFileName = fileInput.current.files[0].name;\n    const config = {\n      bucketName: \"bankan\",\n      dirName: \"uploads\"\n      /* optional */\n      ,\n      region: \"us-west-2\",\n      accessKeyId: \"AKIAJ7COZ5EW7Z3KCTGQ\",\n      secretAccessKey: \"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\"\n    };\n    const ReactS3Client = new S3(config);\n    ReactS3Client.uploadFile(file, newFileName).then(data => {\n      console.log(data);\n\n      if (data.status === 204) {\n        console.log(\"success\");\n      } else {\n        console.log(\"fail\");\n      }\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n    className: \"upload-steps\",\n    onSubmit: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Upload file:\", React.createElement(\"input\", {\n    type: \"file\",\n    ref: fileInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Upload\")));\n}\n\nexport default Upload;","map":{"version":3,"sources":["/Users/hofheins/Desktop/medium/react-fileupload-aws/src/components/Upload.js"],"names":["React","useRef","S3","Upload","fileInput","handleClick","event","preventDefault","file","current","files","newFileName","name","config","bucketName","dirName","region","accessKeyId","secretAccessKey","ReactS3Client","uploadFile","then","data","console","log","status"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,OAAOC,EAAP,MAAe,cAAf;;AAEA,SAASC,MAAT,GAAkB;AAChB,QAAMC,SAAS,GAAGH,MAAM,EAAxB;;AACA,QAAMI,WAAW,GAAGC,KAAK,IAAI;AAC3BA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIC,IAAI,GAAGJ,SAAS,CAACK,OAAV,CAAkBC,KAAlB,CAAwB,CAAxB,CAAX;AACA,QAAIC,WAAW,GAAGP,SAAS,CAACK,OAAV,CAAkBC,KAAlB,CAAwB,CAAxB,EAA2BE,IAA7C;AACA,UAAMC,MAAM,GAAG;AACbC,MAAAA,UAAU,EAAE,QADC;AAEbC,MAAAA,OAAO,EAAE;AAAU;AAFN;AAGbC,MAAAA,MAAM,EAAE,WAHK;AAIbC,MAAAA,WAAW,EAAE,sBAJA;AAKbC,MAAAA,eAAe,EAAE;AALJ,KAAf;AAOA,UAAMC,aAAa,GAAG,IAAIjB,EAAJ,CAAOW,MAAP,CAAtB;AACAM,IAAAA,aAAa,CAACC,UAAd,CAAyBZ,IAAzB,EAA+BG,WAA/B,EAA4CU,IAA5C,CAAiDC,IAAI,IAAI;AACvDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,UAAIA,IAAI,CAACG,MAAL,KAAgB,GAApB,EAAyB;AACvBF,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD,OAFD,MAEO;AACLD,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD;AACF,KAPD;AAQD,GApBD;;AAqBA,SACE,0CACE;AAAM,IAAA,SAAS,EAAC,cAAhB;AAA+B,IAAA,QAAQ,EAAEnB,WAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,GAAG,EAAED,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAME;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,CADF,CADF;AAYD;;AAED,eAAeD,MAAf","sourcesContent":["import React, { useRef } from \"react\";\nimport S3 from \"react-aws-s3\";\n\nfunction Upload() {\n  const fileInput = useRef();\n  const handleClick = event => {\n    event.preventDefault();\n    let file = fileInput.current.files[0];\n    let newFileName = fileInput.current.files[0].name;\n    const config = {\n      bucketName: \"bankan\",\n      dirName: \"uploads\" /* optional */,\n      region: \"us-west-2\",\n      accessKeyId: \"AKIAJ7COZ5EW7Z3KCTGQ\",\n      secretAccessKey: \"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\"\n    };\n    const ReactS3Client = new S3(config);\n    ReactS3Client.uploadFile(file, newFileName).then(data => {\n      console.log(data);\n      if (data.status === 204) {\n        console.log(\"success\");\n      } else {\n        console.log(\"fail\");\n      }\n    });\n  };\n  return (\n    <>\n      <form className='upload-steps' onSubmit={handleClick}>\n        <label>\n          Upload file:\n          <input type='file' ref={fileInput} />\n        </label>\n        <br />\n        <button type='submit'>Upload</button>\n      </form>\n    </>\n  );\n}\n\nexport default Upload;\n"]},"metadata":{},"sourceType":"module"}